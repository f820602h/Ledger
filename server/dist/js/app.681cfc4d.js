(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/Ledger/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00de":function(t,e,a){},"0b8b":function(t,e,a){"use strict";var n=a("7471"),s=a.n(n);s.a},1638:function(t,e,a){"use strict";var n=a("a657"),s=a.n(n);s.a},1938:function(t,e,a){"use strict";var n=a("00de"),s=a.n(n);s.a},3367:function(t,e,a){"use strict";var n=a("3b8b"),s=a.n(n);s.a},"3b8b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("99af"),a("4de4"),a("ac1f"),a("5319"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isLoginPage?a("UserBar"):t._e(),a("div",{staticClass:"container pt-2 pb-4"},[a("router-view")],1),a("div",{staticClass:"replace"}),t.isLoginPage?a("ActionBar",{on:{toggleAddPopup:t.toggleAddPopup}}):t._e(),t.AddPopupIsShow?a("AddPopup",{on:{toggleAddPopup:t.toggleAddPopup}}):t._e()],1)},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userBar container pt-4"},[a("span",{staticClass:"font-weight-bold"},[t._v("Hi ! "+t._s(t.user))]),t._v(" | "),a("span",{staticClass:"logout",on:{click:t.logout}},[t._v("登出")])])},r=[],c=a("5530"),l=a("2f62"),u={name:"UserBar",computed:Object(c["a"])({},Object(l["e"])(["user"])),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["LOGOUT"])),{},{logout:function(){this.LOGOUT()}})},d=u,p=(a("6a56"),a("2877")),m=Object(p["a"])(d,o,r,!1,null,"52ed6682",null),v=m.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"actionBar fixed-bottom bg-dark"},[a("h2",{staticClass:"add rounded-circle text-white d-flex justify-content-center align-items-center",on:{click:function(e){return t.toggleAddPopup(!0)}}},[t._v(" ＋ ")])])},g=[],h={name:"ActionBar",methods:{toggleAddPopup:function(t){this.$emit("toggleAddPopup",t)}}},_=h,y=(a("a824"),Object(p["a"])(_,f,g,!1,null,"0ffc6085",null)),b=y.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade",appear:""}},[a("div",{staticClass:"cover-bg"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("新增帳目")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.toggleAddPopup(!1)}}},[a("span",[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("日期")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.newData.date.$model,expression:"$v.newData.date.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"date",placeholder:"YYYY/MM/DD"},domProps:{value:t.$v.newData.date.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.newData.date,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),!t.newData.date&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請輸入日期")]):t._e(),t.$v.newData.date.rex?t._e():a("p",{staticClass:"error text-danger"},[t._v("請輸入正確的日期格式")]),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("時間")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.newData.time.$model,expression:"$v.newData.time.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"time",placeholder:"00:00 - 23:59"},domProps:{value:t.$v.newData.time.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.newData.time,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),!t.newData.time&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請輸入時間")]):t._e(),t.$v.newData.time.rex?t._e():a("p",{staticClass:"error text-danger"},[t._v("請輸入正確的時間格式")]),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("收支")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.$v.newData.sheet.$model,expression:"$v.newData.sheet.$model"}],staticClass:"custom-select",attrs:{id:"sheet",name:"sheet"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$v.newData.sheet,"$model",e.target.multiple?a:a[0])},function(e){t.newData.type=""}]}},[a("option",{attrs:{value:"",disabled:""}},[t._v("請選擇")]),a("option",{attrs:{value:"income"}},[t._v("收入")]),a("option",{attrs:{value:"pay"}},[t._v("支出")])])]),!t.newData.sheet&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請選擇此筆帳目的收支")]):t._e(),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("分類")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.$v.newData.type.$model,expression:"$v.newData.type.$model"}],staticClass:"custom-select",attrs:{id:"type",name:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$v.newData.type,"$model",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("請選擇")]),t._l(t.filterType[t.newData.sheet],(function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v(t._s(e))])}))],2)]),!t.newData.type&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請選擇此筆帳目的分類")]):t._e(),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("金額")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.newData.cost.$model,expression:"$v.newData.cost.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"cost"},domProps:{value:t.$v.newData.cost.$model},on:{blur:[t.$v.newData.cost.$touch,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.$v.newData.cost,"$model",e.target.value.trim())}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("NT$")])])]),!t.newData.cost&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請輸入金額")]):t._e(),t.$v.newData.cost.numeric?t._e():a("p",{staticClass:"error text-danger"},[t._v("請避免輸入非數字之符號")]),t.$v.newData.cost.rex?t._e():a("p",{staticClass:"error text-danger"},[t._v("請勿輸入以0為開頭之數字")]),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("描述")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.newData.description.$model,expression:"$v.newData.description.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"description"},domProps:{value:t.$v.newData.description.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.newData.description,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),!t.newData.description&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請簡單說明此筆帳目")]):t._e(),t.$v.newData.description.maxLength?t._e():a("p",{staticClass:"error text-danger"},[t._v("已超過50個字元")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.toggleAddPopup(!1)}}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addData}},[t._v("新增")])])])])])])},w=[],$=(a("a4d3"),a("e01a"),a("a9e3"),a("4d63"),a("25f0"),a("1276"),a("b5ae")),C={name:"AddPopup",data:function(){return{newData:{date:"",time:"",sheet:"",type:"",cost:"",description:""}}},validations:{newData:{date:{required:$["required"],rex:function(t){if(""===t)return!0;var e=new RegExp(/^(19|20)\d\d\/(0[1-9]|1[012])\/(0[1-9]|[12][0-9]|3[01])$/);return e.test(t)}},time:{required:$["required"],rex:function(t){if(""===t)return!0;var e=new RegExp(/^[0-2][0-9]:[0-5][0-9]$/);return e.test(t)}},sheet:{required:$["required"]},type:{required:$["required"]},cost:{required:$["required"],numeric:$["numeric"],rex:function(t){if(""===t)return!0;var e=new RegExp(/^0/);return!e.test(t)}},description:{maxLength:Object($["maxLength"])(50)}}},mounted:function(){var t={year:"numeric",month:"2-digit",day:"2-digit",hour12:!1,hour:"2-digit",minute:"2-digit"};this.newData.date=new Date(this.currentDate).toLocaleString("zh",t).split(" ")[0],this.newData.time=(new Date).toLocaleString("zh",t).split(" ")[1]},computed:Object(c["a"])(Object(c["a"])({},Object(l["e"])(["typeList","currentDate"])),{},{filterType:function(){return{income:this.typeList.income,pay:this.typeList.pay}},dateTimestamp:function(){return new Date(this.newData.date).getTime()},Timestamp:function(){return new Date("".concat(this.newData.date," ").concat(this.newData.time)).getTime()}}),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["ADD_NEW_DATA"])),{},{toggleAddPopup:function(t){this.$emit("toggleAddPopup",t)},addData:function(){if(this.$v.newData.$touch(),!this.$v.newData.$invalid){var t={date:this.dateTimestamp,time:this.Timestamp,sheet:this.newData.sheet,type:this.newData.type,cost:Number(this.newData.cost),description:this.newData.description,updateTime:(new Date).getTime()};this.ADD_NEW_DATA(t),this.toggleAddPopup(!1)}}})},x=C,E=(a("0b8b"),Object(p["a"])(x,D,w,!1,null,"02a36208",null)),T=E.exports,S={name:"App",data:function(){return{AddPopupIsShow:!1}},components:{UserBar:v,ActionBar:b,AddPopup:T},computed:{isLoginPage:function(){return"/"!==this.$route.path}},methods:{toggleAddPopup:function(t){this.AddPopupIsShow=t,document.body.style.overflow=t?"hidden":""}}},P=S,O=(a("5c0b"),a("9048"),Object(p["a"])(P,s,i,!1,null,"9d1b8dea",null)),A=O.exports,j=(a("cb29"),a("4160"),a("c975"),a("fb6a"),a("b0c0"),a("159b"),a("bc3a")),k=a.n(j),N=a("8c4f"),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Account"),a("hr",{staticClass:"mt-4 mb-0"}),a("div",{staticClass:"row"},[a("Calendar"),a("DailySum")],1),a("SpendingList")],1)},L=[],R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("Module",{staticClass:"col-12 col-md-4 mb-2 mb-md-0"},[a("div",{staticClass:"d-flex justify-content-between align-items-center",attrs:{slot:"head"},slot:"head"},[a("h5",{staticClass:"my-3"},[t._v("擁有存款")]),a("button",{staticClass:"btn btn-sm btn-outline-secondary my-2",on:{click:function(e){return t.toggleResetPopup(!0)}}},[t._v("重設存款")])]),a("div",{staticClass:"p-4",attrs:{slot:"body"},slot:"body"},[a("h4",{staticClass:"mb-0 font-weight-normal text-center"},[t._v(t._s(t._f("currency")(t.save)))])])]),a("Module",{staticClass:"col-12 col-md-4 mb-2 mb-md-0"},[a("template",{slot:"head"},[a("h5",{staticClass:"my-3"},[t._v("今日收入")])]),a("div",{staticClass:"p-4",attrs:{slot:"body"},slot:"body"},[a("h4",{staticClass:"mb-0 font-weight-normal text-center"},[t._v(t._s(t._f("currency")(t.income)))])])],2),a("Module",{staticClass:"col-12 col-md-4 mb-2 mb-md-0"},[a("template",{slot:"head"},[a("h5",{staticClass:"my-3"},[t._v("今日支出")])]),a("div",{staticClass:"p-4",attrs:{slot:"body"},slot:"body"},[a("h4",{staticClass:"mb-0 font-weight-normal text-center"},[t._v(t._s(t._f("currency")(t.pay)))])])],2),t.resetPopupIsShow?a("ResetPopup",{on:{toggleResetPopup:t.toggleResetPopup}}):t._e()],1)},I=[],G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"rounded overflow-hidden bg-white"},[a("div",{staticClass:"px-4 border-bottom"},[t._t("head")],2),a("div",[t._t("body")],2),t.footer?a("div",{staticClass:"px-4 border-top"},[t._t("footer")],2):t._e()])])},U=[],q={name:"Module",props:{footer:{type:Boolean,default:!1}}},Y=q,H=Object(p["a"])(Y,G,U,!1,null,null,null),B=H.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade",appear:""}},[a("div",{staticClass:"cover-bg"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("重設存款")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.toggleResetPopup(!1)}}},[a("span",[t._v("×")])])]),a("div",{staticClass:"modal-body"},[t._v(" 請輸入您希望設定的存款金額 "),a("form",[a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("金額")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.newSave.$model,expression:"$v.newSave.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"cost"},domProps:{value:t.$v.newSave.$model},on:{blur:[t.$v.newSave.$touch,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.$v.newSave,"$model",e.target.value.trim())}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("NT$")])])]),!t.newSave&&t.$v.newSave.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請輸入金額")]):t._e(),t.$v.newSave.numeric?t._e():a("p",{staticClass:"error text-danger"},[t._v("請避免輸入非數字之符號")]),t.$v.newSave.rex?t._e():a("p",{staticClass:"error text-danger"},[t._v("請勿輸入以0為開頭之數字")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.toggleResetPopup(!1)}}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.resetSave()}}},[t._v("確定")])])])])])])},W=[],F={name:"ResetPopup",props:{term:{type:Object,default:function(){}}},data:function(){return{newSave:""}},validations:{newSave:{required:$["required"],numeric:$["numeric"],rex:function(t){if(""===t)return!0;var e=new RegExp(/^0/);return!e.test(t)}}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["RESET_SAVE"])),{},{toggleResetPopup:function(t){this.$emit("toggleResetPopup",t)},resetSave:function(){this.$v.newSave.$touch(),this.$v.newSave.$invalid||this.RESET_SAVE(this.newSave),this.toggleResetPopup(!1)}})},J=F,V=(a("1938"),Object(p["a"])(J,z,W,!1,null,"3fa23f54",null)),X=V.exports,K={name:"Account",components:{Module:B,ResetPopup:X},data:function(){return{resetPopupIsShow:!1}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["e"])(["save"])),Object(l["c"])({todayData:"GET_TODAY_DATA"})),{},{income:function(){var t=0;return this.todayData.length&&this.todayData.forEach((function(e){"income"===e.sheet&&(t+=Number(e.cost))})),t},pay:function(){var t=0;return this.todayData.length&&this.todayData.forEach((function(e){"pay"===e.sheet&&(t+=Number(e.cost))})),t}}),methods:{toggleResetPopup:function(t){this.resetPopupIsShow=t}}},Q=K,Z=Object(p["a"])(Q,R,I,!1,null,"45d19f5f",null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Module",{staticClass:"col-12 col-md-auto mt-4"},[a("div",{staticClass:"calendar px-3 py-4",attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.datePick.year,expression:"datePick.year"}],staticClass:"form-control",attrs:{name:"year",id:"year"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.datePick,"year",e.target.multiple?a:a[0])},t.goToDate]}},t._l(5,(function(e){return a("option",{key:e,domProps:{value:2019+e}},[t._v(" "+t._s(2019+e+" 年")+" ")])})),0)]),a("div",{staticClass:"col-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.datePick.month,expression:"datePick.month"}],staticClass:"form-control ",attrs:{name:"month",id:"month"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.datePick,"month",e.target.multiple?a:a[0])},t.goToDate]}},t._l(12,(function(e){return a("option",{key:e,domProps:{value:e-1}},[t._v(" "+t._s(e+" 月")+" ")])})),0)])]),a("div",{staticClass:"week d-flex flex-wrap mt-2 mx-auto"},t._l(t.week,(function(e){return a("p",{key:e,staticClass:"mb-0 p-2 text-center font-weight-bold"},[t._v(" "+t._s(e)+" ")])})),0),a("hr",{staticClass:"my-2"}),t.datePick.date?a("div",{staticClass:"date d-flex align-items-stretch flex-wrap mx-auto"},[t._l(t.prevMonth,(function(e){return a("p",{key:"p"+e,staticClass:"prevMonth d-flex justify-content-center align-items-center mb-0 text-center"},[0===t.datePick.month?[t._v(" "+t._s(t.HowManyDay(t.datePick.year-1,11)-t.prevMonth+e)+" ")]:[t._v(" "+t._s(t.HowManyDay(t.datePick.year,t.datePick.month-1)-t.prevMonth+e)+" ")]],2)})),t._l(t.HowManyDay(t.datePick.year,t.datePick.month),(function(e){return a("p",{key:e,staticClass:"d-flex justify-content-center align-items-center mb-0 text-center rounded",class:{picked:new Date(t.currentDate).getDate()===e},on:{click:function(a){return t.pickDate(e)}}},[t._v(" "+t._s(e)+" ")])})),t._l(t.nextMonth,(function(e){return a("p",{key:"n"+e,staticClass:"nextMonth d-flex justify-content-center align-items-center mb-0 text-center"},[t._v(" "+t._s(e)+" ")])}))],2):t._e()])])},at=[],nt={name:"Calendar",components:{Module:B},data:function(){return{datePick:{year:"",month:"",date:""},day:[31,28,31,30,31,30,31,31,30,31,30,31],week:["一","二","三","四","五","六","日"]}},mounted:function(){this.datePick.year=new Date(this.currentDate).getFullYear(),this.datePick.month=new Date(this.currentDate).getMonth(),this.datePick.date=new Date(this.currentDate).getDate()},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["e"])(["currentDate"])),Object(l["c"])({dailyData:"GET_DAILY_DATA"})),{},{prevMonth:function(){var t=new Date;return t.setFullYear(this.datePick.year,this.datePick.month,1),(t.getDay()+6)%7},nextMonth:function(){var t=this.HowManyDay(this.datePick.year,this.datePick.month)+this.prevMonth>35?42:35;return t-(this.HowManyDay(this.datePick.year,this.datePick.month)+this.prevMonth)},dateTimestamp:function(){return new Date("".concat(this.datePick.year,"-").concat(this.datePick.month+1,"-").concat(this.datePick.date)).getTime()}}),methods:{goToDate:function(){this.$router.push({name:"Daily",params:{timestamp:this.dateTimestamp}})},pickDate:function(t){this.datePick.date=t,this.goToDate()},isLeapYear:function(t){return t%400===0||t%4===0&&t%100!==0},HowManyDay:function(t,e){return this.isLeapYear(t)&&1===e?29:this.day[e]}}},st=nt,it=(a("9d50"),Object(p["a"])(st,et,at,!1,null,"8fb72b3e",null)),ot=it.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Module",{staticClass:"col mt-4"},[a("div",{staticClass:"d-flex justify-content-between align-items-center",attrs:{slot:"head"},slot:"head"},[a("h5",{staticClass:"my-3"},[t._v("每日總計")]),a("button",{staticClass:"btn btn-info btn-sm",attrs:{disabled:t.currentDate===t.today},on:{click:t.backToday}},[t._v(" 回到今天 ")])]),a("div",{staticClass:"dateDisplay p-4",attrs:{slot:"body"},slot:"body"},[a("h4",{staticClass:"mb-0 font-weight-light"},[t._v(" "+t._s(t._f("date")(t.currentDate))+" "),t.currentDate===t.today?a("span",[t._v("(今天)")]):t._e()]),a("hr"),a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"my-3 font-weight-normal"},[t._v("當天收入")]),a("h4",{staticClass:"mb-0 font-weight-normal text-center"},[t._v(t._s(t._f("currency")(t.income)))])]),a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"my-3 font-weight-normal"},[t._v("當天支出")]),a("h4",{staticClass:"mb-0 font-weight-normal text-center"},[t._v(t._s(t._f("currency")(t.pay)))])]),a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"my-3 font-weight-normal"},[t._v("當天總收支")]),a("h4",{staticClass:"mb-0 font-weight-normal text-center",class:{"text-danger":t.income<t.pay,"text-success":t.income>t.pay}},[t.income<t.pay?a("span",[t._v("-")]):t._e(),t._v(t._s(t._f("currency")(t.surplus))+" ")])])])])},ct=[],lt={name:"DailySum",components:{Module:B},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["e"])(["today","currentDate"])),Object(l["c"])({dailyData:"GET_DAILY_DATA"})),{},{income:function(){var t=0;return this.dailyData.length&&this.dailyData.forEach((function(e){"income"===e.sheet&&(t+=Number(e.cost))})),t},pay:function(){var t=0;return this.dailyData.length&&this.dailyData.forEach((function(e){"pay"===e.sheet&&(t+=Number(e.cost))})),t},surplus:function(){return Math.abs(this.income-this.pay)}}),methods:{backToday:function(){this.$router.push({name:"Daily",params:{timestamp:this.today}})}}},ut=lt,dt=(a("a449"),Object(p["a"])(ut,rt,ct,!1,null,"197f2177",null)),pt=dt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-4"},[a("Module",[a("div",{staticClass:"d-flex justify-content-between align-items-center",attrs:{slot:"head"},slot:"head"},[a("h5",{staticClass:"my-3"},[t._v("收支明細")]),a("router-link",{staticClass:"btn btn-sm btn-info my-2",attrs:{to:"/dashboard"}},[t._v("詳細數據")])],1),a("div",{staticClass:"p-4",attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-12 col-md-4 input-group my-2"},[a("div",{staticClass:"input-group-prepend"},[a("label",{staticClass:"input-group-text",attrs:{for:"sheet"}},[t._v("收支")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.sheet,expression:"filter.sheet"}],staticClass:"custom-select",attrs:{id:"sheet",name:"sheet"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"sheet",e.target.multiple?a:a[0])},function(e){t.filter.type="all"}]}},[a("option",{attrs:{value:"all"}},[t._v("全部")]),a("option",{attrs:{value:"income"}},[t._v("收入")]),a("option",{attrs:{value:"pay"}},[t._v("支出")])])]),a("div",{staticClass:"col-12 col-md-4 input-group my-2"},[a("div",{staticClass:"input-group-prepend"},[a("label",{staticClass:"input-group-text",attrs:{for:"type"}},[t._v("分類")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.type,expression:"filter.type"}],staticClass:"custom-select",attrs:{id:"type",name:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"all"}},[t._v("全部")]),t._l(t.filterType[t.filter.sheet],(function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v(t._s(e))])}))],2)]),a("div",{staticClass:"col-12 col-md-4 input-group my-2"},[a("div",{staticClass:"input-group-prepend"},[a("label",{staticClass:"input-group-text",attrs:{for:"sort"}},[t._v("排序")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.sort,expression:"filter.sort"}],staticClass:"custom-select",attrs:{id:"sort",name:"sort"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"sort",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"timeAsc"}},[t._v("時間由早到晚")]),a("option",{attrs:{value:"timeDesc"}},[t._v("時間由晚到早")]),a("option",{attrs:{value:"costAsc"}},[t._v("金額由低至高")]),a("option",{attrs:{value:"costDesc"}},[t._v("金額由高至低")])])])]),a("hr"),t.filterSortDailyData.length?t._e():a("div",[a("h4",{staticClass:"text-center mt-4 mb-0"},[t._v("目前沒有任何帳目喔！")])]),t.filterSortDailyData.length?a("div",t._l(t.filterSortDailyData,(function(e){return a("div",{key:e.updateTime,staticClass:"listItem row align-items-center no-gutters"},[a("div",{staticClass:"col-6 col-md-3"},[a("h4",{staticClass:"mb-0 text-md-center"},[t._v(t._s(e.type))])]),a("div",{staticClass:"col-6 col-md-3 order-md-1"},[a("h4",{staticClass:"mb-0 text-right text-md-center"},[t._v(t._s(t._f("currency")(e.cost)))])]),a("div",{staticClass:"col-12 col-md-4"},[a("p",{staticClass:"my-1"},[t._v(t._s(t._f("time")(e.time)))]),a("p",{staticClass:"my-1"},[t._v(t._s(e.description))])]),a("div",{staticClass:"col-12 col-md-2 text-right order-md-2"},[a("button",{staticClass:"btn btn-sm btn-info my-1",on:{click:function(a){return t.editData(e)}}},[t._v("編輯")]),a("button",{staticClass:"btn btn-sm btn-danger ml-1 my-1",on:{click:function(a){return t.deleData(e)}}},[t._v("刪除")])]),a("hr",{staticClass:"col-12 order-5"})])})),0):t._e()])]),t.editPopupIsShow?a("EditPopup",{attrs:{term:t.editTerm},on:{toggleEditPopup:t.toggleEditPopup}}):t._e(),t.delePopupIsShow?a("DelePopup",{attrs:{term:t.deleTerm},on:{toggleDelePopup:t.toggleDelePopup}}):t._e()],1)},vt=[],ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade",appear:""}},[a("div",{staticClass:"cover-bg"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("編輯帳目")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.toggleEditPopup(!1)}}},[a("span",[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("日期")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.newData.date.$model,expression:"$v.newData.date.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"date",placeholder:"YYYY/MM/DD"},domProps:{value:t.$v.newData.date.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.newData.date,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),!t.newData.date&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請輸入日期")]):t._e(),t.$v.newData.date.rex?t._e():a("p",{staticClass:"error text-danger"},[t._v("請輸入正確的日期格式")]),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("時間")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.newData.time.$model,expression:"$v.newData.time.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"time",placeholder:"00:00 - 23:59"},domProps:{value:t.$v.newData.time.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.newData.time,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),!t.newData.time&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請輸入時間")]):t._e(),t.$v.newData.time.rex?t._e():a("p",{staticClass:"error text-danger"},[t._v("請輸入正確的時間格式")]),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("收支")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.$v.newData.sheet.$model,expression:"$v.newData.sheet.$model"}],staticClass:"custom-select",attrs:{id:"sheet",name:"sheet"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$v.newData.sheet,"$model",e.target.multiple?a:a[0])},function(e){t.newData.type=""}]}},[a("option",{attrs:{value:"",disabled:""}},[t._v("請選擇")]),a("option",{attrs:{value:"income"}},[t._v("收入")]),a("option",{attrs:{value:"pay"}},[t._v("支出")])])]),!t.newData.sheet&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請選擇此筆帳目的收支")]):t._e(),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("分類")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.$v.newData.type.$model,expression:"$v.newData.type.$model"}],staticClass:"custom-select",attrs:{id:"type",name:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$v.newData.type,"$model",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("請選擇")]),t._l(t.filterType[t.newData.sheet],(function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v(t._s(e))])}))],2)]),!t.newData.type&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請選擇此筆帳目的分類")]):t._e(),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("金額")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.newData.cost.$model,expression:"$v.newData.cost.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"cost"},domProps:{value:t.$v.newData.cost.$model},on:{blur:[t.$v.newData.cost.$touch,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.$v.newData.cost,"$model",e.target.value.trim())}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("NT$")])])]),!t.newData.cost&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請輸入金額")]):t._e(),t.$v.newData.cost.numeric?t._e():a("p",{staticClass:"error text-danger"},[t._v("請避免輸入非數字之符號")]),t.$v.newData.cost.rex?t._e():a("p",{staticClass:"error text-danger"},[t._v("請勿輸入以0為開頭之數字")]),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("描述")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.newData.description.$model,expression:"$v.newData.description.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"description"},domProps:{value:t.$v.newData.description.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.newData.description,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),!t.newData.description&&t.$v.newData.$dirty?a("p",{staticClass:"error text-danger"},[t._v("請簡單說明此筆帳目")]):t._e(),t.$v.newData.description.maxLength?t._e():a("p",{staticClass:"error text-danger"},[t._v("已超過50個字元")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.toggleEditPopup(!1)}}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.editData}},[t._v("儲存")])])])])])])},gt=[],ht={name:"EditPopup",props:{term:{type:Object,default:function(){}}},data:function(){return{newData:{date:"",time:"",sheet:this.term.sheet,type:this.term.type,cost:this.term.cost,description:this.term.description}}},validations:{newData:{date:{required:$["required"],rex:function(t){if(""===t)return!0;var e=new RegExp(/^(19|20)\d\d\/(0[1-9]|1[012])\/(0[1-9]|[12][0-9]|3[01])$/);return e.test(t)}},time:{required:$["required"],rex:function(t){if(""===t)return!0;var e=new RegExp(/^[0-2][0-9]:[0-5][0-9]$/);return e.test(t)}},sheet:{required:$["required"]},type:{required:$["required"]},cost:{required:$["required"],numeric:$["numeric"],rex:function(t){if(""===t)return!0;var e=new RegExp(/^0/);return!e.test(t)}},description:{maxLength:Object($["maxLength"])(50)}}},mounted:function(){var t={year:"numeric",month:"2-digit",day:"2-digit",hour12:!1,hour:"2-digit",minute:"2-digit"};this.newData.date=new Date(this.term.date).toLocaleString("zh",t).split(" ")[0],this.newData.time=new Date(this.term.time).toLocaleString("zh",t).split(" ")[1]},computed:Object(c["a"])(Object(c["a"])({},Object(l["e"])(["typeList"])),{},{filterType:function(){return{income:this.typeList.income,pay:this.typeList.pay}},dateTimestamp:function(){return new Date(this.newData.date).getTime()},Timestamp:function(){return new Date("".concat(this.newData.date," ").concat(this.newData.time)).getTime()}}),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["EDIT_DATA"])),{},{toggleEditPopup:function(t){this.$emit("toggleEditPopup",t)},editData:function(){if(this.$v.newData.$touch(),!this.$v.newData.$invalid){var t={old:this.term,new:{date:this.dateTimestamp,time:this.Timestamp,sheet:this.newData.sheet,type:this.newData.type,cost:Number(this.newData.cost),description:this.newData.description,updateTime:(new Date).getTime()}};this.EDIT_DATA(t),this.toggleEditPopup(!1)}}})},_t=ht,yt=(a("a979"),Object(p["a"])(_t,ft,gt,!1,null,"62c31dc4",null)),bt=yt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade",appear:""}},[a("div",{staticClass:"cover-bg"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("刪除帳目")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.toggleDelePopup(!1)}}},[a("span",[t._v("×")])])]),a("div",{staticClass:"modal-body"},[t._v(" 確定要刪除此筆帳目嗎？ ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.toggleDelePopup(!1)}}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleData()}}},[t._v("刪除")])])])])])])},wt=[],$t={name:"DelePopup",props:{term:{type:Object,default:function(){}}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["DELE_DATA"])),{},{toggleDelePopup:function(t){this.$emit("toggleDelePopup",t)},deleData:function(){this.DELE_DATA(this.term),this.toggleDelePopup(!1)}})},Ct=$t,xt=(a("b81c"),Object(p["a"])(Ct,Dt,wt,!1,null,"0b300520",null)),Et=xt.exports,Tt={name:"SpendingList",components:{Module:B,EditPopup:bt,DelePopup:Et},data:function(){return{filter:{sheet:"all",type:"all",sort:"timeAsc"},editTerm:{},deleTerm:{},editPopupIsShow:!1,delePopupIsShow:!1}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["e"])(["typeList"])),Object(l["c"])({dailyData:"GET_DAILY_DATA"})),{},{filterType:function(){return{all:[],income:this.typeList.income,pay:this.typeList.pay}},filterSheetDailyData:function(){var t=this;return"all"===this.filter.sheet?this.dailyData:this.dailyData.filter((function(e){return e.sheet===t.filter.sheet}))},filterTypeDailyData:function(){var t=this;return"all"===this.filter.type?this.filterSheetDailyData:this.filterSheetDailyData.filter((function(e){return e.type===t.filter.type}))},filterSortDailyData:function(){var t=this,e=this.filterTypeDailyData.slice();return e.sort((function(e,a){return"timeAsc"===t.filter.sort?e.time-a.time:"timeDesc"===t.filter.sort?a.time-e.time:"costAsc"===t.filter.sort?e.cost-a.cost:"costDesc"===t.filter.sort?a.cost-e.cost:void 0})),e}}),methods:{editData:function(t){this.editTerm=t,this.toggleEditPopup(!0)},toggleEditPopup:function(t){this.editPopupIsShow=t},deleData:function(t){this.deleTerm=t,this.toggleDelePopup(!0)},toggleDelePopup:function(t){this.delePopupIsShow=t}}},St=Tt,Pt=(a("1638"),Object(p["a"])(St,mt,vt,!1,null,"c366de9e",null)),Ot=Pt.exports,At={name:"Daily",components:{Account:tt,Calendar:ot,DailySum:pt,SpendingList:Ot},beforeRouteUpdate:function(t,e,a){this.$store.commit("SET_CURRENT_DATE",Number(t.params.timestamp)),a()},mounted:function(){this.$store.commit("SET_CURRENT_DATE",Number(this.$route.params.timestamp))}},jt=At,kt=Object(p["a"])(jt,M,L,!1,null,"37b23dc5",null),Nt=kt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login d-flex justify-content-center align-items-center mt-5"},[a("div",{staticClass:"con d-flex flex-column justify-content-center align-items-center bg-white px-4 py-5 rounded shadow"},[a("h4",{staticClass:"text-center"},[t._v("歡迎使用記帳本")]),a("p",{staticClass:"text-center"},[t._v("請先登入")]),a("div",{staticClass:"input-group mt-4"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.loginform.account.$model,expression:"$v.loginform.account.$model"}],staticClass:"form-control",attrs:{type:"text",id:"account",placeholder:"電子信箱"},domProps:{value:t.$v.loginform.account.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.loginform.account,"$model",e.target.value)}}})]),a("div",{staticClass:"input-group mt-4"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.loginform.password.$model,expression:"$v.loginform.password.$model"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"密碼"},domProps:{value:t.$v.loginform.password.$model},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||t.$set(t.$v.loginform.password,"$model",e.target.value)}}})]),t.$v.loginform.$invalid&&t.$v.loginform.$dirty?a("p",{staticClass:"error text-danger mt-3"},[t._v("請填妥您的帳號及密碼")]):t._e(),a("button",{staticClass:"btn btn-sm btn-info mt-4 mx-auto",on:{click:t.login}},[t._v("登入")]),a("a",{staticClass:"badge mt-2",attrs:{href:"#"},on:{click:function(e){return t.toggleSignUpPopup(!0)}}},[t._v("註冊帳號")])]),t.signUpPopupIsShow?a("SignUpPopup",{on:{toggleSignUpPopup:t.toggleSignUpPopup}}):t._e()],1)},Lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("帳號")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("密碼")])])}],Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade",appear:""}},[a("div",{staticClass:"cover-bg"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("註冊帳號")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.toggleSignUpPopup(!1)}}},[a("span",[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("名稱")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.signupform.name.$model,expression:"$v.signupform.name.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入用戶名稱(暱稱)"},domProps:{value:t.$v.signupform.name.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.signupform.name,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.$v.signupform.password.$dirty?[t.signupform.name?t._e():a("p",{staticClass:"error text-danger"},[t._v("請輸入用戶名稱(暱稱)")])]:t._e(),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("存款")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.signupform.save.$model,expression:"$v.signupform.save.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入您目前存款金額"},domProps:{value:t.$v.signupform.save.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.signupform.save,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("NT$")])])]),t.$v.signupform.account.$dirty?[t.signupform.save?t._e():a("p",{staticClass:"error text-danger"},[t._v("請輸入金額")]),t.$v.signupform.save.numeric?t._e():a("p",{staticClass:"error text-danger"},[t._v("請避免輸入非數字之符號")]),t.$v.signupform.save.rex?t._e():a("p",{staticClass:"error text-danger"},[t._v("請勿輸入以0為開頭之數字")])]:t._e(),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("帳號")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.signupform.account.$model,expression:"$v.signupform.account.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"電子信箱"},domProps:{value:t.$v.signupform.account.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.signupform.account,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.$v.signupform.account.$dirty?[t.signupform.account?t._e():a("p",{staticClass:"error text-danger"},[t._v("請輸入您的電子信箱")]),t.$v.signupform.account.email?t._e():a("p",{staticClass:"error text-danger"},[t._v("請輸入正確的信箱格式")])]:t._e(),a("div",{staticClass:"input-group mt-4"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("密碼")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.signupform.password.$model,expression:"$v.signupform.password.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"六位以上英文或數字"},domProps:{value:t.$v.signupform.password.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.signupform.password,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.$v.signupform.password.$dirty?[t.signupform.password?t._e():a("p",{staticClass:"error text-danger"},[t._v("請輸入您要設定的密碼")]),t.$v.signupform.password.alphaNum?t._e():a("p",{staticClass:"error text-danger"},[t._v("僅接受英文和數字")]),t.$v.signupform.password.minLength?t._e():a("p",{staticClass:"error text-danger"},[t._v("密碼長度至少要六位")])]:t._e()],2),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.toggleSignUpPopup(!1)}}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.signUp()}}},[t._v("註冊")])])])])])])},It=[],Gt={name:"EditPopup",data:function(){return{signupform:{name:"",save:"",account:"",password:""}}},validations:{signupform:{name:{required:$["required"]},save:{required:$["required"],numeric:$["numeric"],rex:function(t){if(""===t)return!0;var e=new RegExp(/^0/);return!e.test(t)}},account:{required:$["required"],email:$["email"]},password:{required:$["required"],alphaNum:$["alphaNum"],minLength:Object($["minLength"])(6)}}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["SIGNUP"])),{},{toggleSignUpPopup:function(t){this.$emit("toggleSignUpPopup",t)},signUp:function(){this.$v.signupform.$touch(),this.$v.signupform.$invalid||this.SIGNUP(this.signupform)}})},Ut=Gt,qt=(a("ecd1"),Object(p["a"])(Ut,Rt,It,!1,null,"17942056",null)),Yt=qt.exports,Ht={name:"Login",data:function(){return{loginform:{account:"",password:""},signUpPopupIsShow:!1}},validations:{loginform:{account:{required:$["required"],email:$["email"]},password:{required:$["required"],alphaNum:$["alphaNum"]}}},components:{SignUpPopup:Yt},computed:Object(c["a"])({},Object(l["e"])(["loginState","today","alertObj"])),watch:{loginState:function(t){t&&this.$router.push("/daily/".concat(this.today))},alertObj:function(t,e){t!==e&&this.$message(t)}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["LOGIN"])),{},{toggleSignUpPopup:function(t){this.signUpPopupIsShow=t},login:function(){this.$v.loginform.$touch(),this.$v.loginform.$invalid||this.LOGIN(this.loginform)}})},Bt=Ht,zt=(a("3367"),Object(p["a"])(Bt,Mt,Lt,!1,null,"0abe1c54",null)),Wt=zt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("DatePicker"),a("div",{staticClass:"row mt-4"},[a("RevenuePie",{staticClass:"col-12 col-md-6"}),a("ExpensesPie",{staticClass:"col-12 col-md-6 mt-4 mt-md-0"})],1),a("SpendingTrend")],1)},Jt=[],Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Module",[a("div",{staticClass:"d-flex justify-content-between align-items-center",attrs:{slot:"head"},slot:"head"},[a("h5",{staticClass:"my-3"},[t._v("日期設定")]),a("router-link",{staticClass:"btn btn-sm btn-info my-2",attrs:{to:{name:"Daily",params:{timestamp:this.today}}}},[t._v("每日總覽")])],1),a("div",{staticClass:"p-4",attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"row align-items-center justify-content-between"},[a("div",{staticClass:"btn-group btn-group-toggle col-auto"},[a("label",{staticClass:"btn btn-info border",class:{"btn-light":"week"!==t.dataMode},attrs:{for:"week"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataMode,expression:"dataMode"}],attrs:{type:"radio",name:"dataMode",id:"week",value:"week"},domProps:{checked:t._q(t.dataMode,"week")},on:{change:function(e){t.dataMode="week"}}}),t._v(" 本週 ")]),a("label",{staticClass:"btn btn-info border",class:{"btn-light":"month"!==t.dataMode},attrs:{for:"month"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataMode,expression:"dataMode"}],attrs:{type:"radio",name:"dataMode",id:"month",value:"month"},domProps:{checked:t._q(t.dataMode,"month")},on:{change:function(e){t.dataMode="month"}}}),t._v(" 本月 ")]),a("label",{staticClass:"btn btn-info border",class:{"btn-light":"cust"!==t.dataMode},attrs:{for:"cust"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataMode,expression:"dataMode"}],attrs:{type:"radio",name:"dataMode",id:"cust",value:"cust"},domProps:{checked:t._q(t.dataMode,"cust")},on:{change:function(e){t.dataMode="cust"}}}),t._v(" 自訂日期 ")])]),"cust"!==t.dataMode?a("p",{staticClass:"col-auto mt-3 mb-0 mt-md-0 font-weight-normal"},[t._v(" "+t._s(t._f("dateRange")(t.dateRange))+" ")]):t._e()]),"cust"===t.dataMode?a("div",{staticClass:"row"},[a("div",{staticClass:"input-group col-12 col-md-6 mt-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateStart,expression:"dateStart"}],staticClass:"form-control",attrs:{type:"date",min:"2015-01-01",max:t.dateEnd?t.dateEnd:t.maxDate},domProps:{value:t.dateStart},on:{change:t.getCustDate,input:function(e){e.target.composing||(t.dateStart=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("起")])])]),a("div",{staticClass:"input-group col-12 col-md-6 mt-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateEnd,expression:"dateEnd"}],staticClass:"form-control",attrs:{type:"date",min:t.dateStart,max:t.maxDate,disabled:""===t.dateStart},domProps:{value:t.dateEnd},on:{change:t.getCustDate,input:function(e){e.target.composing||(t.dateEnd=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("迄")])])])]):t._e()])])],1)},Xt=[],Kt={name:"DatePicker",components:{Module:B},data:function(){return{days:[31,28,31,30,31,30,31,31,30,31,30,31],dataMode:"",dateStart:"",dateEnd:"",dateRange:{}}},mounted:function(){this.dataMode="week"},computed:Object(c["a"])(Object(c["a"])({},Object(l["e"])(["today"])),{},{maxDate:function(){var t=new Date(this.today).getFullYear()+2;return"".concat(t,"-12-31")}}),watch:{dataMode:function(){"week"===this.dataMode&&this.getThisWeek(),"month"===this.dataMode&&this.getThisMonth(),"cust"===this.dataMode&&this.getCustDate()}},methods:Object(c["a"])(Object(c["a"])({},Object(l["d"])(["SET_DATE_RANGE"])),{},{getThisWeek:function(){var t=new Date(this.today).getDay();this.dateRange={start:this.today-864e5*(t-1),end:this.today+864e5*(7-t+1)},this.SET_DATE_RANGE(this.dateRange)},getThisMonth:function(){var t=new Date(this.today).getDate(),e=new Date(this.today).getMonth(),a=new Date(this.today).getFullYear(),n=this.isLeapYear(a)&&1===e?29:this.days[e];this.dateRange={start:this.today-864e5*(t-1),end:this.today+864e5*(n-t+1)},this.SET_DATE_RANGE(this.dateRange)},getCustDate:function(){this.dateRange={start:new Date(this.dateStart+" 00:00").getTime(),end:new Date(this.dateEnd+" 00:00").getTime()+864e5},this.SET_DATE_RANGE(this.dateRange)},isLeapYear:function(t){return t%400===0||t%4===0&&t%100!==0}})},Qt=Kt,Zt=Object(p["a"])(Qt,Vt,Xt,!1,null,"7c2c732a",null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Module",{staticClass:"mt-4"},[a("template",{slot:"head"},[a("h5",{staticClass:"my-3"},[t._v("消費曲線")])]),a("div",{staticClass:"p-4",attrs:{slot:"body"},slot:"body"},[this.seriesData.length?a("highcharts",{attrs:{options:t.chartOptions}}):a("h4",{staticClass:"d-flex justify-content-center align-items-center mb-0",staticStyle:{height:"150px"}},[t._v(" 無任何消費 ")])],1)],2)},ae=[],ne=a("4452"),se={name:"SpendingTrend",components:{Module:B,highcharts:ne["Chart"]},data:function(){var t=this;return{chartOptions:{chart:{height:"350px"},title:{text:null},xAxis:{type:"datetime",labels:{formatter:function(){return new Date(this.value).toLocaleString("zh-tw",{month:"numeric",day:"numeric"})}}},yAxis:{title:{text:null},labels:{format:"$ {value}"}},legend:{layout:"horizontal",align:"right",verticalAlign:"top"},tooltip:{shared:!0,formatter:function(){var t=new Date(this.x).toLocaleString("zh-tw",{year:"numeric",month:"numeric",day:"numeric"}),e="<b>".concat(t,"</b><br/>");return this.points.forEach((function(t){e+='<span style="color:'.concat(t.color,'">●</span><b> ').concat(t.series.name,"：</b> NT$ ").concat(t.y,"<br />")})),e},style:{fontFamily:"Microsoft JhengHei",lineHeight:"20px"}},plotOptions:{column:{maxPointWidth:30,dataLabels:{enabled:!0,formatter:function(){if(0!==this.y)return"$".concat(this.y)},style:{fontFamily:"Microsoft JhengHei",fontWeight:"normal",textOutline:0,color:"rgb(150,150,150)"}}},series:{label:{connectorAllowed:!1},cursor:"pointer",point:{events:{click:function(e){var a=e.point;t.$router.push({name:"Daily",params:{timestamp:a.x-288e5}})},mouseOver:function(){console.log("point=>",this)}}},pointStart:Date.UTC(new Date),pointInterval:864e5}},series:[],credits:{enabled:!1}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["e"])(["dateRange"])),Object(l["c"])({seriesData:"GET_SPENDING_TREND_DATA"})),watch:{dateRange:function(t){var e=this;this.chartOptions.plotOptions.series.pointStart=Date.UTC(new Date),setTimeout((function(){e.chartOptions.plotOptions.series.pointStart=Date.UTC(new Date(t.start).getFullYear(),new Date(t.start).getMonth(),new Date(t.start).getDate())}),0)},seriesData:function(t){var e=this;this.chartOptions.series=[],setTimeout((function(){e.chartOptions.series=t}),0)}}},ie=se,oe=Object(p["a"])(ie,ee,ae,!1,null,null,null),re=oe.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Module",{attrs:{footer:!0}},[a("template",{slot:"head"},[a("h5",{staticClass:"my-3"},[t._v("收入總計")])]),a("div",{staticClass:"p-4",attrs:{slot:"body"},slot:"body"},[t.seriesData.length?a("highcharts",{attrs:{options:t.chartOptions}}):a("h4",{staticClass:"d-flex justify-content-center align-items-center mb-0",staticStyle:{height:"250px"}},[t._v("無任何收入")])],1),a("template",{slot:"footer"},[a("p",{staticClass:"my-2 mb-0 text-right"},[t._v("總計: "+t._s(t._f("currency")(t.total)))])])],2)},le=[],ue={name:"RevenuePie",components:{Module:B,highcharts:ne["Chart"]},data:function(){return{chartOptions:{chart:{height:"250px"},title:{text:null},tooltip:{enabled:!0,formatter:function(){return'<span style="color:'.concat(this.color,'">●</span><b> ').concat(this.key,"</b><br /> \n            <b>占比：</b> ").concat(Math.floor(this.percentage),"%<br /><b>金額：</b> NT$ ").concat(this.y)},style:{fontFamily:"Microsoft JhengHei",lineHeight:"20px"}},legend:{layout:"vertical",align:"right",verticalAlign:"middle",padding:0,itemDistance:10,itemMarginTop:10},plotOptions:{pie:{dataLabels:{enabled:!0,distance:3,connectorWidth:1,connectorPadding:0,format:"<b>{point.percentage:.1f}%</b>",style:{fontFamily:"Microsoft JhengHei",fontWeight:"normal",textOutline:0,color:"rgb(100,100,100)"}},showInLegend:!0}},series:[{type:"pie",name:"金額",data:[]}],responsive:{rules:[{chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}},condition:{maxWidth:300}}]},credits:{enabled:!1}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])({seriesData:"GET_REVENUE_PIE_DATA"})),{},{total:function(){var t=0;return this.seriesData.forEach((function(e){t+=e.y})),t}}),watch:{seriesData:function(t){var e=this;this.chartOptions.series[0].data=[],setTimeout((function(){e.chartOptions.series[0].data=t}),0)}}},de=ue,pe=Object(p["a"])(de,ce,le,!1,null,null,null),me=pe.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Module",{attrs:{footer:!0}},[a("template",{slot:"head"},[a("h5",{staticClass:"my-3"},[t._v("支出總計")])]),a("div",{staticClass:"p-4",attrs:{slot:"body"},slot:"body"},[t.chartOptions.series[0].data.length?a("highcharts",{attrs:{options:t.chartOptions}}):a("h4",{staticClass:"d-flex justify-content-center align-items-center mb-0",staticStyle:{height:"250px"}},[t._v("無任何支出")])],1),a("template",{slot:"footer"},[a("p",{staticClass:"my-2 mb-0 text-right"},[t._v("總計: "+t._s(t._f("currency")(t.total)))])])],2)},fe=[],ge={name:"ExpensesPie",components:{Module:B,highcharts:ne["Chart"]},data:function(){return{chartOptions:{chart:{height:"250px"},title:{text:null},tooltip:{enabled:!0,formatter:function(){return'<span style="color:'.concat(this.color,'">●</span><b> ').concat(this.key,"</b><br /> \n            <b>占比：</b> ").concat(Math.floor(this.percentage),"%<br /><b>金額：</b> NT$ ").concat(this.y)},style:{fontFamily:"Microsoft JhengHei",lineHeight:"20px"}},legend:{layout:"vertical",align:"right",verticalAlign:"middle",padding:0,itemDistance:10,itemMarginTop:10},plotOptions:{pie:{dataLabels:{enabled:!0,distance:3,connectorWidth:1,connectorPadding:0,format:"<b>{point.percentage:.1f}%</b>",style:{fontFamily:"Microsoft JhengHei",fontWeight:"normal",textOutline:0,color:"rgb(100,100,100)"}},showInLegend:!0}},series:[{type:"pie",data:[]}],responsive:{rules:[{chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}},condition:{maxWidth:300}}]},credits:{enabled:!1}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])({seriesData:"GET_EXPENSES_PIE_DATA"})),{},{total:function(){var t=0;return this.seriesData.forEach((function(e){t+=e.y})),t}}),watch:{seriesData:function(t){var e=this;this.chartOptions.series[0].data=[],setTimeout((function(){e.chartOptions.series[0].data=t}),0)}}},he=ge,_e=Object(p["a"])(he,ve,fe,!1,null,null,null),ye=_e.exports,be={name:"DashBoard",components:{DatePicker:te,SpendingTrend:re,RevenuePie:me,ExpensesPie:ye}},De=be,we=Object(p["a"])(De,Ft,Jt,!1,null,null,null),$e=we.exports;n["default"].use(N["a"]);var Ce=[{path:"/",name:"Login",component:Wt},{path:"/daily/:timestamp",name:"Daily",component:Nt},{path:"/dashboard",name:"DashBoard",component:$e},{path:"*",redirect:{name:"Login"}}],xe=new N["a"]({mode:"hash",base:"/Ledger/",routes:Ce});xe.beforeEach((function(t,e,a){"Login"===t.name&&(Pe.state.loginState?a("/daily/".concat(Pe.state.today)):a()),"Login"!==t.name&&(Pe.state.loginState?a():k.a.get("".concat("http://localhost:3000","/ledger/login")).then((function(t){t.data.success?(Pe.commit("SET_LOGIN_STATE",!0),Pe.dispatch("INIT_DATA"),a()):(Pe.commit("SET_LOGIN_STATE",!1),a("/"))})))}));var Ee=xe,Te=a("1dce"),Se=a.n(Te);n["default"].use(l["a"]),n["default"].use(Se.a);var Pe=new l["a"].Store({state:{user:"",loginState:!1,today:"",currentDate:"",dateRange:{},save:0,ledger:[],typeList:{},alertObj:{}},mutations:{SET_USER:function(t,e){t.user=e},SET_LOGIN_STATE:function(t,e){t.loginState=e},SET_TODAY:function(t,e){t.today=e},SET_LEDGER:function(t,e){t.ledger=e},SET_SAVE:function(t,e){t.save=e},SET_TYPE_LIST:function(t,e){t.typeList=e},SET_CURRENT_DATE:function(t,e){t.currentDate=e},SET_DATE_RANGE:function(t,e){t.dateRange=e},SET_ALERT_OBJ:function(t,e){t.alertObj=e}},actions:{SIGNUP:function(t,e){var a=t.commit,n=t.dispatch;k.a.post("".concat("http://localhost:3000","/ledger/signup"),e).then((function(t){t.data.success?a("SET_ALERT_OBJ",{type:"success",message:"註冊成功，歡迎您成為記帳本會員，將為您自動登入。",onClose:function(){n("LOGIN",e)}}):"auth/email-already-in-use"===t.data.code&&a("SET_ALERT_OBJ",{type:"error",message:"此信箱已被註冊，請確認您的信箱是否正確。"})}))},LOGIN:function(t,e){var a=t.commit,n=t.dispatch;k.a.post("".concat("http://localhost:3000","/ledger/login"),e).then((function(t){t.data.success?(n("INIT_DATA"),a("SET_LOGIN_STATE",!0)):(a("SET_LOGIN_STATE",!1),a("SET_ALERT_OBJ",{type:"error",message:"您的帳號或密碼錯誤，請輸入正確的帳號密碼。"}))}))},LOGOUT:function(t,e){var a=t.commit;k.a.get("".concat("http://localhost:3000","/ledger/logout"),e).then((function(t){t.data.success?(a("SET_LOGIN_STATE",!1),Ee.push("/")):console.log(t.data.msg)}))},INIT_DATA:function(t){var e=t.commit,a=t.dispatch;a("GET_TODAY_TIME_STAMP"),k.a.get("".concat("http://localhost:3000","/ledger/")).then((function(t){e("SET_USER",t.data.body.name),e("SET_LEDGER",t.data.body.ledger),e("SET_SAVE",t.data.body.save),e("SET_TYPE_LIST",t.data.body.type)}))},GET_TODAY_TIME_STAMP:function(t){var e=t.commit,a=new Date,n={year:a.getFullYear(),month:a.getMonth(),date:a.getDate()},s=new Date("".concat(n.year,"-").concat(n.month+1,"-").concat(n.date)).getTime();e("SET_TODAY",s),e("SET_CURRENT_DATE",s)},ADD_NEW_DATA:function(t,e){var a=t.state,n=t.commit,s=Number(a.save),i=Number(e.cost),o="pay"===e.sheet?s-i:s+i,r=a.ledger.slice();r.push(e),k.a.post("".concat("http://localhost:3000","/ledger"),{newLedger:r,newSave:o}).then((function(){n("SET_LEDGER",r),n("SET_SAVE",o)}))},EDIT_DATA:function(t,e){var a=t.state,n=t.commit,s=Number(a.save),i=Number(e.old.cost),o=Number(e.new.cost),r="pay"===e.old.sheet?s+i:s-i;r="pay"===e.new.sheet?r-o:r+o;var c=a.ledger.slice().filter((function(t){return t.updateTime!==e.old.updateTime}));c.push(e.new),k.a.post("".concat("http://localhost:3000","/ledger"),{newLedger:c,newSave:r}).then((function(){n("SET_LEDGER",c),n("SET_SAVE",r)}))},DELE_DATA:function(t,e){var a=t.state,n=t.commit,s=Number(a.save),i=Number(e.cost),o="pay"===e.sheet?s+i:s-i,r=a.ledger.slice().filter((function(t){return t.updateTime!==e.updateTime}));k.a.post("".concat("http://localhost:3000","/ledger"),{newLedger:r,newSave:o}).then((function(){n("SET_LEDGER",r),n("SET_SAVE",o)}))},RESET_SAVE:function(t,e){t.state;var a=t.commit;k.a.post("".concat("http://localhost:3000","/ledger/save"),{newSave:Number(e)}).then((function(){a("SET_SAVE",e)}))}},getters:{GET_TODAY_DATA:function(t){var e=t.ledger.filter((function(e){return e.date===t.today}));return e},GET_DAILY_DATA:function(t){var e=t.ledger.filter((function(e){return e.date===t.currentDate}));return e},GET_RANGE_DATA:function(t){var e=t.ledger.filter((function(e){return e.time>=t.dateRange.start&&e.time<t.dateRange.end}));return e},GET_REVENUE_PIE_DATA:function(t,e){var a=[],n=[],s=[],i=e.GET_RANGE_DATA.filter((function(t){return"income"===t.sheet}));i.forEach((function(t){var e=n.indexOf(t.type);-1===e?(n.push(t.type),s.push(t.cost)):s[e]+=t.cost}));for(var o=0;o<n.length;o++)a.push({name:n[o],y:s[o]});return a},GET_EXPENSES_PIE_DATA:function(t,e){var a=[],n=[],s=[],i=e.GET_RANGE_DATA.filter((function(t){return"pay"===t.sheet}));i.forEach((function(t){var e=n.indexOf(t.type);-1===e?(n.push(t.type),s.push(t.cost)):s[e]+=t.cost}));for(var o=0;o<n.length;o++)a.push({name:n[o],y:s[o]});return a},GET_SPENDING_TREND_DATA:function(t,e){var a=[],n=[],s=[],i=[],o=(t.dateRange.end-t.dateRange.start)/864e5,r=e.GET_RANGE_DATA.filter((function(t){return"pay"===t.sheet}));r.forEach((function(e){var a=n.indexOf(e.type),r=(e.date-t.dateRange.start)/864e5;i.length||(i.length=o,i.fill(0)),-1===a&&(n.push(e.type),a=n.indexOf(e.type),s[a]=[],s[a].length=o,s[a].fill(0)),s[a][r]+=e.cost,i[r]+=e.cost}));for(var c=0;c<n.length;c++)a.push({name:n[c],data:s[c]});return a.length?(a.push({type:"column",name:"總消費",data:i,zIndex:-1,color:"rgba(200,200,200,.5)"}),a):a}}}),Oe=a("a7fe"),Ae=a.n(Oe),je=a("ea7f"),ke=a.n(je),Ne=a("5c96"),Me=a.n(Ne);a("0fae"),a("4989"),a("b383");n["default"].use(Ae.a,k.a),n["default"].config.productionTip=!1,n["default"].use(Me.a),ke.a.setOptions({lang:{thousandsSep:",",shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],weekdays:["星期一","星期二","星期三","星期四","星期五","星期六","星期日"]},colors:["rgb(236, 208, 120)","rgba(217, 91, 67, 0.7)","rgba(192, 41, 66, 0.7)","rgba(84, 36, 55, 0.7)","rgba(83, 119, 122, 0.7)","rgba(119, 146, 174, 0.7)","#636368"]}),n["default"].filter("currency",(function(t){return"$ "+String(t).replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")})),n["default"].filter("dateRange",(function(t){var e={year:"numeric",month:"2-digit",day:"2-digit"},a=new Date(t.start).toLocaleString("zh",e).replace("/"," 年 ").replace("/"," 月 ")+" 日",n=new Date(t.end-1).toLocaleString("zh",e).replace("/"," 年 ").replace("/"," 月 ")+" 日";return"".concat(a," - ").concat(n)})),n["default"].filter("date",(function(t){var e={year:"numeric",month:"2-digit",day:"2-digit"},a=new Date(t).toLocaleString("zh",e).replace("/"," 年 ").replace("/"," 月 ")+" 日";return a})),n["default"].filter("time",(function(t){var e={hour12:!0,hour:"2-digit",minute:"2-digit"};return new Date(t).toLocaleString("zh",e).replace(/\D{2}/,"$& ")})),new n["default"]({store:Pe,router:Ee,render:function(t){return t(A)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),s=a.n(n);s.a},"649a":function(t,e,a){},"6a56":function(t,e,a){"use strict";var n=a("6aec"),s=a.n(n);s.a},"6aec":function(t,e,a){},7471:function(t,e,a){},"7b0b1":function(t,e,a){},"80c4":function(t,e,a){},"875c":function(t,e,a){},9048:function(t,e,a){"use strict";var n=a("c1e2"),s=a.n(n);s.a},"9c0c":function(t,e,a){},"9d50":function(t,e,a){"use strict";var n=a("80c4"),s=a.n(n);s.a},a449:function(t,e,a){"use strict";var n=a("7b0b1"),s=a.n(n);s.a},a657:function(t,e,a){},a824:function(t,e,a){"use strict";var n=a("baf1"),s=a.n(n);s.a},a979:function(t,e,a){"use strict";var n=a("875c"),s=a.n(n);s.a},b383:function(t,e,a){},b81c:function(t,e,a){"use strict";var n=a("f5c8"),s=a.n(n);s.a},baf1:function(t,e,a){},c1e2:function(t,e,a){},ecd1:function(t,e,a){"use strict";var n=a("649a"),s=a.n(n);s.a},f5c8:function(t,e,a){}});
//# sourceMappingURL=app.681cfc4d.js.map